services:
  bot:
    image: ghcr.io/baranovskis/go-ytdlp-bot:main
    container_name: ytdlp-bot
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    volumes:
      - ./config.yaml:/app/config.yaml:ro
      - ./data:/app/data
    # GPU passthrough (uncomment for hardware encoding):
    #
    # Intel VAAPI (set encoder: "h264_vaapi" in config.yaml):
    # devices:
    #   - /dev/dri:/dev/dri
    #
    # NVIDIA NVENC (set encoder: "h264_nvenc" in config.yaml):
    # runtime: nvidia
    # environment:
    #   - NVIDIA_VISIBLE_DEVICES=all
